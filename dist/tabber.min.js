!function(a){"use strict";function b(b,c){this.$el=a(b),this.options=a.extend({},a.tabber.defaults,c),this.init()}var c=0;a.extend(b.prototype,{init:function(){this.ens=".tabber"+ ++c,!this.options.navDefined&&this.setupNav(),this.$tabBtns=this.$el.find(this.options.tabBtnSelector),this.$tabs=this.$el.find(this.options.tabSelector),this.numTabs=this.$tabBtns.length;var a=this.$tabs.filter("."+this.options.tabActiveClass.split(" ").join("."));a.length?this.currentPosition=this.$tabs.index(a)+1:this.renderPosition(this.currentPosition=1),this.options.afterInit&&this.options.afterInit(this.$el,this),this.events()},setupNav:function(){var b=this.$el.find(this.options.tabBtnTitleSelector),c=a("<"+this.options.tabNavTag+">").addClass(this.options.tabNavClass).addClass(this.options.numTabsClassPrefix+b.length),d=this;b.each(function(){c.append('<a role="button" class="'+d.options.tabBtnClass+'">'+a(this).html()+"</a>")}),this.$el.prepend(c),this.options.afterNavRender&&this.options.afterNavRender(c,this)},events:function(){var b=this;this.$tabBtns.on("click"+this.ens,function(c){c.preventDefault(),b.goToTab(b.$tabBtns.index(a(this))+1)})},goToTab:function(a){a===this.currentPosition||1>a||a>this.numTabs||(this.renderPosition(a),this.currentPosition=a,this.options.afterTabChange&&this.options.afterTabChange(this.$tabs.eq(a-1),this))},renderPosition:function(a){var b=this.$tabs.eq(a-1),c=this.$tabBtns.eq(a-1);this.$tabs.removeClass(this.options.tabActiveClass),b.addClass(this.options.tabActiveClass),this.$tabBtns.removeClass(this.options.tabBtnActiveClass),c.addClass(this.options.tabBtnActiveClass),this.options.afterRender&&this.options.afterRender(b,this)},next:function(){this.currentPosition+1>this.numTabs?this.goToTab(1):this.goToTab(this.currentPosition+1)},prev:function(){this.currentPosition-1<1?this.goToTab(this.numTabs):this.goToTab(this.currentPosition-1)},destroy:function(){this.$tabBtns.off(this.ens),this.options.navDefined||this.$tabBtns.remove(),delete this.$el.data().tabber}}),a.tabber=b,a.tabber.defaults={tabBtnClass:"btn",tabBtnSelector:".btn",tabBtnActiveClass:"active",tabBtnTitleSelector:"h3",navDefined:!1,tabNavClass:"tabNav",tabNavTag:"div",tabSelector:".tab",tabActiveClass:"active",numTabsClassPrefix:"numTabs",afterInit:null,afterTabChange:null,afterNavRender:null,afterRender:null},a.fn.tabber=function(c){return this.each(function(){a.data(this,"tabber")||a.data(this,"tabber",new b(this,c))})}}(window.jQuery||window.Zepto);